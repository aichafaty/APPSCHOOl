(()=>{const e=document.querySelector("form"),t=document.getElementById("apprenantes"),n=document.getElementById("nom"),o=[],l=document.getElementById("prenom"),a=document.getElementById("niveau"),i=document.getElementById("bio"),d=document.getElementById("ajouter");n.value,l.value,a.value,i.value,e.addEventListener("submit",(e=>{e.preventDefault();let c=n.value,u=l.value,s=a.value,m=i.value;!function(){let e=n.value,t=l.value,o=a.value,r=i.value;console.log("Nom = "+n.value),console.log("Prenom = "+l.value),console.log("Niveau = "+a.value),console.log("Biographie = "+i.value),localStorage.setItem("nom",e),localStorage.setItem("prenom",t),localStorage.setItem("niveau",o),localStorage.setItem("bio",r),localStorage.getItem("nom"),localStorage.getItem("prenom"),localStorage.getItem("niveau"),localStorage.getItem("bio"),i.addEventListener("input",(e=>{const t=i.value.length,n=130-t,o=document.getElementById("limite-text"),l=document.getElementById("text-progress"),a=document.getElementById("text-restant");l.textContent=t,a.textContent=" Il vous reste "+n,n<0?(o.style.color="#ce0033",d.disabled=!0):n<=16?(o.style.color="yellow",d.disabled=!1):(o.style.color="#00000",d.disabled=!1)}))}();let v={nomA:c,prenomA:u,niveauA:s,bioA:m};o.push(v),console.log(t.length),r(v),n.value="",l.value="",a.value="",i.value=""}));const r=(e,d)=>{const r="btn_supprimer-"+e.id,c="btn_modifier-"+e.id,u="btn_cart-"+e.id,s="identifiant-"+e.id,m="identifiant-"+e.id,v="identifiant-"+e.id,g="identifiant-"+e.id;t.insertAdjacentHTML("afterend",`\n        <div class="card mb-3" style="max-width: 540px;" id="${u}">\n                    <div class="row g-0">\n                    <div class="col-md-4">\n                        <img src="src/img/img1.png" class="img-fluid rounded-start" alt="...">\n                    </div>\n                    <div class="col-md-8">\n                        <div class="card-body">\n                        <h5 class="card-title" id=${s}>Nom:${e.nomA}</h5>\n                        <h5 class="card-tit" id=${m}>Prenom:${e.prenomA}</h5>\n                        <h5 class="card-titles" id=${v}>niveau:${e.niveauA}</h5>\n                        <p class="card-text" id=${g}>biographie:${e.bioA}</p>\n\n                        <button type="button" class="btn btn-outline-danger" id="${r}">Supprimer</button>\n                        <button type="button" class="btn btn-outline-warning" id="${c}">Modifier</button>\n                        </div>\n                        \n                    </div>\n                    </div>\n                    </div>\n\n                   \n      \n     `);const y=document.getElementById(r),I=document.getElementById(u),p=document.getElementById(c);console.log(p),document.getElementById(s),document.getElementById(m),document.getElementById(v),document.getElementById(g),y.addEventListener("click",(e=>{e.preventDefault(),console.log(o.splice),I.remove()})),p.addEventListener("click",(t=>{t.preventDefault();const o=I.querySelector(".card-title").textContent,d=(I.querySelector(".card-title"),I.querySelector(".card-tit").textContent),r=(I.querySelector(".card-tit"),I.querySelector(".card-titles").textContent),c=(I.querySelector(".card-tit"),I.querySelector(".card-text").textContent);I.querySelector(".card-text"),n.value=o,l.value=d,a.value=r,i.value=c;const u=document.getElementById("modifier");console.log(u),u.addEventListener("click",(t=>{t.preventDefault(),alert("je suis laaa"),e.nomA=n.value,e.prenomA=preAPPRENANTSnom.value,e.niveauA=a.value,e.bioA=i.value,o.textContent=e.nomA,d.textContent=e.prenomA,r.textContent=e.niveauA,c.textContent=e.bioA,console.log(e),n.value=o.textContent}))}))};sauvegarder=document.getElementById("sauv"),sauvegarder.addEventListener("click",(e=>{e.preventDefault(),alert("voullez vous vraiment sauvegarder dans la base"),console.log(o),fetch("https://jvbxwslfbvuerjamynbm.supabase.co/rest/v1/senAppn",{method:"POST",headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzOTQxODU0MiwiZXhwIjoxOTU0OTk0NTQyfQ.70q4LI1xBt_3AbU7ZecNtRZ_yL7YWQuqAPVbreQCTVg",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaWF0IjoxNjM5NDE4NTQyLCJleHAiOjE5NTQ5OTQ1NDJ9.eCHBLBMBj6Dw21vQQX4cYO_4jQqB2sXaqNAECRqL2C0","Content-Type":"application/json",Prefer:"return=representation"},body:JSON.stringify(o)})})),document.getElementById("liste").addEventListener("click",(e=>{window.location.href="listeApp.html"}))})();